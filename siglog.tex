%%
% SigLog paper on HoTT
% May 2014
% IHP
%%
\documentclass[11pt]{article}
\usepackage{amsmath}
\usepackage{amssymb,latexsym}
\usepackage{amsthm}
\usepackage{bm}
\input{prooftree}
\usepackage[all,cmtip]{xy}
\input{diagxy}
\CompileMatrices       
\usepackage{url}
\usepackage{tikz}
\usepackage{pdfpages}

\usepackage[color=green!40]{todonotes}



% categories
\newcommand{\C}{\ensuremath{\mathbb{C}}}
\newcommand{\B}{\ensuremath{\mathbb{B}}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\T}{\ensuremath{\mathbb{T}}}
\newcommand{\CC}{\ensuremath{\mathcal{C}}}
\newcommand{\BB}{\ensuremath{\mathcal{B}}}
%\newcommand{\EE}{\ensuremath{\mathcal{E}}}
\newcommand{\psh}[1]{\ensuremath{\mathsf{Set}^{#1^{\mathrm{op}}}}}
\newcommand{\Set}{\ensuremath{\mathsf{Set}}}
\newcommand{\Cat}{\ensuremath{\mathsf{Cat}}}
\newcommand{\covpsh}[1]{\ensuremath{\mathsf{Set}^{#1}}}
%\renewcommand{\to}{\ensuremath{\rightarrow}}
\newcommand{\pocorner}[1][dr]{\save*!/#1+1.2pc/#1:(1,-1)@^{|-}\restore}
\newcommand{\pbcorner}[1][dr]{\save*!/#1-1.2pc/#1:(-1,1)@^{|-}\restore}
\newcommand{\y}{\ensuremath{\mathsf{y}}} % Yoneda embedding

% arrows
\newcommand{\hook}{\ensuremath{\hookrightarrow}}
\newcommand{\mono}{\ensuremath{\rightarrowtail}}
%\newcommand{\epi}{\ensuremath{\twoheadrightarrow}}


% cubical sets
\newcommand{\I}{\ensuremath{\mathrm{I}}}
\renewcommand{\H}{\ensuremath{\mathbb{H}}}
\newcommand{\HH}{\ensuremath{\mathcal{H}}}

% type theory
\newcommand{\G}{\ensuremath{\Gamma}}
\newcommand{\defeq}{=_{\mathrm{def}}}
\newcommand{\type}{\mathsf{type}}       
\newcommand{\types}[2]{#1 \vdash #2:\type}
\newcommand{\Gtypes}[1]{\types{\Gamma}{#1}}
\newcommand{\term}[2]{#1\,:\,#2}
\newcommand{\terms}[2]{#1 \vdash #2}
\newcommand{\Gterms}[1]{\terms{\Gamma}{#1}}
\newcommand{\ext}[2]{{#1\!\centerdot\! #2}}
\newcommand{\ty}{\ensuremath{\,:\,}}
\newcommand{\pair}[1]{\ensuremath{\langle #1\rangle}}
\newcommand{\exdot}{\ensuremath{\!\centerdot\!}}
\newcommand{\texdot}{\ensuremath{\centerdot}}

% Id types
\newcommand{\Id}{\mathsf{Id}}
\newcommand{\id}[1]{\Id_{#1}}
\newcommand{\refl}{\mathsf{refl}}
\newcommand{\rec}{\mathsf{rec}}
\newcommand{\idrec}{\mathsf{idrec}}
\newcommand{\jay}{\mathsf{j}}
\renewcommand{\i}{\mathsf{i}}

% Universe
\newcommand{\U}{\ensuremath{\mathcal{U}}}
\newcommand{\UU}{\ensuremath{\widetilde{\mathcal{U}}}}

% theorem styles
\newtheorem{theorem}{Theorem}
\newtheorem*{theorem*}{Theorem}
\newtheorem{proposition}[theorem]{Proposition} 
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary} 

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark} 
\newtheorem*{remarks*}{Remarks}
\newtheorem{example}[theorem]{Example}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{Homotopy Type Theory and Univalent Foundations}
\author{Steve Awodey \and Robert Harper}
\date{\today}

\maketitle
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Homotopy Type Theory is an emerging unification of previously disparate frameworks for formalizing and mechanizing mathematics, one based on a computational conception of the type of a construction, the other based on a homotopical conception of the (homotopy) type of a space.  Indeed, the name ``homotopy type theory'' can be read in two ways, as ``(homotopy type) theory'' and ``homotopy (type theory)'', neatly summarizing the consolidation of ideas at the heart of the subject.  The computational notion of type has its origins in Brouwer's program of intuitionism, which sought to ground mathematics in the concept of an effective construction (one would say ``algorithm'' these days).  The homotopical notion of type emerges from abstract homotopy theory, in particular Grothendieck's conception of a space as an $\infty$-groupoid.  The former perspective was developed most fully by Per Martin-L\"{o}f, leading in particular to his Intuitionistic Theory of Types, on which the formal system of homotopy type theory is based.  The connection to homotopy theory was first hinted at in the groupoid interpretation of Hofmann and Streicher and then made explicit by Awodey and his students Lumsdaine and Warren, who showed that every type in Martin-L\"{o}f's system has the structure of an $\infty$-groupoid, and that the entire system can be interpreted in any Quillen model category, an abstract framework for doing homotopy theory.  The connection was clinched by Voevodsky's introduction of the \emph{univalence axiom}, which is motivated by the homotopical interpretation and relates the aforementioned identity type to the central notion of homotopy equivalence.

Because univalence plays such a central role, Voevodsky has suggested that the unification of the computational and homotopical perspectives be called the \emph{Univalent Unification} of two major lines of development in mathematics.  A critically important point is that the univalent unification is \emph{fully compatible} with classical mathematics; it does not involve any principles that are incompatible with classical reasoning, though it does, at the outset, avoid postulating axioms that are unnecessary for much of the development.  Indeed, the formal system of homotopy type theory contains within it the whole of ZF set theory, with or without the Axiom of Choice, and with or without the Law of the Excluded Middle, two principles that lie at the heart of classical mathematics and that have, regrettably, been obstacles to the kind of unification described here.  By not insisting on these axioms globally, it is possible to consider a far richer notion of type than has hitherto been possible in the computational setting, namely one in which types are abstract spaces that can have non-trivial higher-dimensional structure, as exemplified by familiar examples such as the $n$-spheres for all $n\geq 0$.  Rather than being ``coded up'' as certain structured sets representing certain conceptions of space, such as a topological space, these objects instead arise \emph{synthetically} within the theory.  They are characterized by their introductory and eliminatory forms (mapping-in and mapping-out properties, or universal properties), rather than by how they are constructed as sets.  This perspective greatly simplifies many familiar constructions in homotopy theory, such as homotopy groups, truncations, and Eilenberg-MacLane spaces, and supports remarkably simple and clear proofs of well-known results, such as calculations of the higher homotopy groups of the spheres.  In this way it is possible to unify standard, classical logic and set theory with constructive logic and type theory by regarding the former as the logic of a very special kind of objects (namely, sets), and the latter as the general logic that applies not only to sets (the $0$-level spaces), but also to the higher types of spaces.

What is it that makes the univalent unification possible?  Although it may be too early to formulate a single, deep unifying principle, it is possible to make a few observations that will give the reader a sense of its inevitability.  First, all of the constructions of Intuitionistic Type Theory, including especially the previously enigmatic identity type, are homotopy invariant, in the both sense that type families and mappings between types inherently respect ``paths'' in spaces, representing \emph{identifications} of points in the space, and that the formation of type-indexed products and sums of types, which correspond to analogous constructions on spaces, respect the homotopically motivated notion of type equivelence.  This invariance essentially follows from the basic fact that the important identity type, taken as a whole, corresponds to the \emph{total path space} of a space (see \cite{AW}); since everything in the formal system respects identity, everything in the interpretation respects homotopy, which is determined by identfication along paths.  Second, a characteristic feature of both intuitionistic type theory and higher homotopy theory is the emphasis on \emph{structure} over \emph{property}.  In intuitionistic mathematics types express propositions, and objects of the type are proofs of those propositions in the form of mathematical constructions that provide evidence for their truth.  A similar emphasis is found in abstract homotopy theory, in which paths (homotopies) may be seen as evidence for the identification (in a sense, ``equality'') of two points, and similarly for paths between the corresponding values of two functions.  Two points are not merely equal as a property, but rather are identified by a particular construction.  This approach extends to higher dimensions in that one may speak of the identification of two (parallel) identifications, at all higher dimensions.  Such a structure of a hierarchy of identifications via path connectedness is found in standard settings for homotopy theory such as simplicial sets, cubical sets, and globular sets, all of which stress the role of cells as identifications.

%, with the Kan condition ensuring that the interpretation is valid.
% not sure what goes here ...
% much of the following has now already been said in the foregoing
% I will try to reformulate the remaining stuff below
%
%this leads to vv's formulation of equality as *identification*, in particular treating the ml's equality type (which we should name as such) as an *identification* type, whose elements are identifications of two objects of a type.  identifications, being objects of a type, are subject to further identifications, leading to the concept of a homotopy n-type defined by the structure of the identifications at level n.  vv's view is motivated by the observation that two objects may be identified in two different ways, and that the ways in which two objects are identified matter.  the reason is that the seemingly simple idea of "respect for equality" by functions and families becomes, in this setting, preservation of identifications by functions and families.  the former consideration leads to the investigation of the h-level of a type; the latter leads to the remarkable principle of univalence, which internalizes the "empirical" fact that all constructs definable in type theory preserve identifications, which suggests turning the observation into a principle that all constructs of mathematics *ought* to preserve identifications.  (this could be contentious, or even wrong, depending on one's viewpoint, i think).  without taking a stand on what ought to be, the important observation is that the same type structure emerges in both settings in exactly the same way, provided that one is consistent and careful about what "is" is, so unicity means "up to further identification" in the vv case, but "self-evidently equal" in the ml case.  in other words all of the standard constructions of mathematics can be carried out in both settings, but with a different meaning derived from a different conception of equality.

The hierarchy of possible identifications leads to Voevodsky's conception of a hierarchy of homotopy levels, or h-levels for short, definable within type theory.  Whereas the usual hierarchy of size is determined by type universes or large cardinals in type theory or set theory, the hierarchy of h-levels is based not on the size, but on the internal structure of a type.  Roughly speaking, the lowest level consists of the types that have at most one element, called \emph{propositions}.  The next level, called \emph{sets}, consists of those whose identity types are propositions. After that come the types whose identity types are sets: the \emph{groupoids}.  And so on.  Just the recognition that this hierarchy of h-levels is present in the system of all types has been a huge advance in our understanding of type theory; previously, it was simply a mystery that some types were fully determined by their elements, while others seemed to behave as though they had some further structure.  The construction of quotient types, for example, is now greatly simplified when one knows that the equivalence relation being factored out is a family of propositions, and not ``higher" types.  For another example, for types $A$ and $B$ that are propositions, the relevant notion of equivalence is \emph{logical equivalence}, represented by the type $A\leftrightarrow B$.  For sets, the relevant notion is \emph{isomorphism} $A\cong B$, and for groupoids, there is the notion of \emph{(categorical) equivalence} $A\simeq B$.  Each of these concepts results by specializing the single, uniform notion of \emph{equivalence of types} $A\simeq B$ to the respective cases of propositions, sets, and groupoids.  In this setting, the new univalence axiom can be stated as the assertion that the type $A\simeq B$ of all equivalences between two types $A$ and $B$ is itself equivalent to their identity type,
\[\tag{UA}
(A\simeq B)\ \simeq\  \id{}(A,B).
\]
 Thus in particular, logically equivalent propositions will be identified, as in the original, extensional type theory of Church \cite{Church}.  Isomorphic sets, too, will be identified ``up to homotopy'', i.e.\ by paths between them in the universe of all types, and similarly for equivalent groupoids, and equivalent types in general.

This is not really the place for a systematic introduction (for that, see \cite{HoTTbook}), or even a general survey (such as \cite{apw,pw}), but a brief example may serve to convey a bit of the flavor of the new approach, especially the distinctive intermingling of logical and homotopical ideas.  As is the case in conventional Martin-L\"of type theory, the basic types of booleans $\B$ and natural numbers $\N$ can have at most one identification between any two elements; that is, given say $n, m : \N$ and $p,q: \id{\N}(n,m)$ in the identity type of $n$ and $m$, we always have $\alpha:\id{\left(\id{\N}(n,m)\right)}(p,q)$ identifying $p$ and $q$.  In this sense, there is no real information in the type $\id{\N}(n,m)$, apart from whether or not it is inhabited.  Such types with at most one identification between any two elements are called (``homotopy 0-types'' or simply) ``sets''.  Any types that can be constructed from $\B$, $\N$, or any other sets, by means of the usual type constructors of dependent sum $(\Sigma{x:A})B(x)$ and dependent product $(\Pi{x:A})B(x)$ (which includes $A\times B$ and $A\rightarrow B$ as special cases) are also sets, and the same is true for the equality types $\id{A}(a,a')$ for $a,a':A$, for any set $A$.  

 An example of a type that is not a set is the circle (or ``$1$-sphere'') $S^1$, which has a base point $b: S^1$ with many different self-identifications $\refl(b),\, p,\, p\cdot p,\, ... :\id{S^1}(b,b)$.  Here $\refl(b)$ is the trivial identification, i.e.\ the canonical witness to the reflexivity of identity, but there is also another identification $p$ which is different from $\refl(b)$ in the sense that $\id{\left(\id{S^1}(b,b)\right)}(\refl(b), p)$ is empty.  We can think of $p$ homotopically as the continuous ``path" that goes once around the circle. 

%
% draw a circle here, with b and p indicated"
%
By the (function witnessing the) transitivity of equality, 
\[
(-)\cdot(-) : \id{S^1}(a,b) \times \id{S^1}(b,c)\to \id{S^1}(a,c),
\]
 there are also the ``paths'' $p\cdot p,\, p\cdot p\cdot p,\, \ldots$.   And by symmetry,
 \[
 (-)^{-1}:\id{S^1}(a,b) \to \id{S^1}(b,a),
 \]
 there are similarly the paths $p^{-1},\, p^{-1}\cdot p^{-1}, \ldots :\id{S^1}(b,b)$.  Although $S^1$ is therefore not a set, it can be shown that $\id{S^1}(b,b)$ is one; that is, the types $\id{\left(\id{S^1}(b,b)\right)}(x,y)$ are either inhabited (by reflexivities) or empty, depending on whether or not $x=y$, for all $x,y : \id{S^1}(b,b)$ --- we say that $S^1$ is a ``(homotopy) 1-type".  This fact follows from the specification of $S^1$ as a new kind of \emph{higher} inductive type, generalizing the usual specification of the natural numbers and similar structures.  For $S^1$, the inductive specification essentially says that $S^1$ is the type freely generated by the base point $b:S^1$ and the loop $p:\id{S^1}(b,b)$, in the same sense that the usual inductive specification of $\N$ says that it is the type freely generated by $0:\N$ and the successor function $s:\N\to\N$.  
  
 Another type that is not a set is the universe $\U$ of all (small) types.  According to the Univalence Axiom, identifications between types $A,B:\U$ correspond to equivalences $A\simeq B$, which are generalized type isomorphisms.  In fact, as already stated, if $A$ and $B$ themselves are sets, then an equivalence between them is just an isomorphism in the usual sense: a pair of maps back and forth that compose to the respective identity mapppings.  Now the booleans $\B$, for example, have two different isomorphisms $\B\simeq \B$, namely the identity and the operation of ``negation'' $\neg:\B\to\B$, which swaps the truth values $0,1:\B$.  Thus by univalence there are two distinct identifications in $\id{\U}(\B,\B)$, corresponding to these distinct isomorphisms, and so $\U$ is not a set, but, like $S^1$, a ``higher-dimensional" type.  
 
Now observe that by the basic recursive property of $S^1$ as ``the type freely generated by a point and a loop on it'', there is a map $$\rec(\B,n): S^1 \to \U$$ determined by sending the base point $b:S^1$ to the booleans $\B:\U$ and the generating loop $p : \id{S^1}(b,b)$ to (the loop corresponding under univalence to) negation, say $n : \id{\U}(\B,\B)$.  As a type of the form $\B\to\U$, this $\rec(\B,n)$ is thus a family of types over $\B$, sometimes called a ``dependent type" and written $x:\B \vdash \rec(\B,n)(x)$.  Homotopically, such a type-family is interpreted as a ``fibration" $E\to\B$, where the total space $E$ is just the sum type $(\Sigma{x:\B})\rec(\B,n)(x)$, equipped with its usual indexing projection.  In the present case, the ``fiber" is then the type $\rec(\B,n)(b) = \B$, and the action on (elements of) $\B$ induced by the path $n: \id{S^1}(b,b)$ in the base is exactly the operation of negation $\neg : \B\to \B$.  Thus, from a homotopical point of view, we have constructed the ``twisted double cover'' of the circle (see figure \ref{fig:winding}).
 % fix this:
\begin{figure}\centering
  \begin{tikzpicture}[xscale=1.4,yscale=.6]
    \node (R) at (2,1) {$S^1$};
    \node (S1) at (2,-2) {$S^1$};
    \draw[->] (R) -- node[auto] {$\mathsf{double}$} (S1);
    \draw (0,-2) ellipse (1 and .4);
    \draw[dotted] (1,0) arc (0:-30:1 and .8);
    \draw (1,0) arc (0:90:1 and .8) arc (90:270:1 and .3) coordinate (t1);
    \draw[white,line width=4pt] (t1) arc (-90:90:1 and .8);
    \draw (t1) arc (-90:90:1 and .8) arc (90:270:1 and .3) coordinate (t2);
    \draw[white,line width=4pt] (t2) arc (-90:90:1 and .8);
    \draw (t2) arc (-90:90:1 and .8) arc (90:270:1 and .3) coordinate (t3);
    \draw[white,line width=4pt] (t3) arc (-90:90:1 and .8);
    \draw (t3) arc (-90:-30:1 and .8) coordinate (t4);
    \draw[dotted] (t4) arc (-30:0:1 and .8);
    \node[fill,circle,inner sep=1pt,label={below:\scriptsize $b$}] at (0,-2.4) {};
    \node[fill,circle,inner sep=1pt,label={above left:\scriptsize 0}] at (0,.2) {};
    \node[fill,circle,inner sep=1pt,label={above left:\scriptsize 1}] at (0,1.2) {};
    \node[fill,circle,inner sep=1pt,label={above left:\scriptsize 2}] at (0,2.2) {};
  \end{tikzpicture}
  \caption{The twisted double cover of $S^1$ in classical topology}\label{fig:winding}
\end{figure}
%
This important construction from homotopy theory is closely related to the celebrated Hopf fibration which, among other things, can be used to compute some of the higher homotopy groups of the spheres $S^2$ and $S^3$.  Indeed, one can construct the Hopf fibration in homotopy type theory in much the same way as the foregoing example, using univalence, negation, winding around the circle, and other constructions derived from combinations of logical, type-theoretic, and homotopical ideas.  

This sort of reasoning gives an entirely new ``synthetic" approach to some areas of classical mathematics like algebraic topology, which not only allows for the explicit logical formalization of classical results like the calculations of homotopy groups of spheres, but also permits their formal verification in computational proof systems based on a constructive system of logic.

\todo[inline]{OK, I'm happy with the the foregoing up to here (except for fixing the figure).  Now we need to do the conclusion using the notes that follow.}

one important point about the univalent framework is that is subsumes both the classical set-theoretic framework for doing mathematics, and it is "almost" subsumes the constructive framework.  as to the former, we need only explain the hierarchy of n-types, and the fact that classical proof-irrelevant propositions are -1-types, and that classical sets are 0-types (wherein equality of sets is taken as "self-evident"), and that these levels are compatible with lem and with ac as usually conceived, so that standard zfc-based math slots right it without difficulty.  but the advantage of univalent foundations is that it provides infinitely much more structure than just that, and it is fascinating and useful to explore the mathematics of higher n-types, and the uses of proof-relevance at higher dimensions.  as to the latter, the main issue is that the constructive framework, while also by design compatible with classical mathematics (by virtue of being limited to 0-types and -1-types), has a computational foundation---truth is explained in terms of running programs.  this fact has been the central driving force in research in pl's, semantics, and verification for the last several decades, and is clearly of paramount importance.  so the question becomes, can we achieve a grand unification of computational types and homotopy types that provides the richness of hlevels and the foundational and practical pleasures of being justified solely on the basis of computation?  we can say that we are tantalizingly close to achieving such a unification, perhaps via the cubical sets interpretation recently proposed, perhaps through other means currently under investigation.

Some more things to mention:

- formal verification of mathematics as a practical tool makes logical foundations finally relevant to mathematical practice, rather than just a theoretical possibility.  In fact, if the latter is their only interest, then Goedel matters, but given the actual practical benefits, Goedel doesn't. This is a new "post-Goedel" attitude to logical foundations. 

- can something similar be said about foundations of computation ?  did people ever worry about Goedel the way the logicians do in connection with foundations of math?

- higher category theory turns out to be naturally described by constructive methods, while the subsystem of 0-categories (i.e. the sets) still admits classical logic, without forcing the higher dimensional part to also be classical.  This seems to be a new way of conceiving of the relation between classical and constructive methods -- not as distinct systems related to each other as "stronger versus weaker", or even as the different  logic of "constant versus variable" objects, but as compatible subsystems of a single system that are simultaneously applicable to different parts of the universe, distinguished by the intrinsic complexity or "dimension" of the objects therein.

we can close with saying that we are on the cusp of a revolution, in which two self-contained, well-motivated, well-justified, yet completely disparate frameworks for doing mathematics are not only being consolidated into a single, well-motivated, well-justified framework, but moreover the unified theory enriches and extends the classical framework without disrupting anything that has been achieved in that setting?

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{thebibliography}{300}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibitem{AW}
S.~Awodey and M.A.~Warren. Homotopy theoretic models of identity types. \emph{Math. Proc. Camb. Phil. Soc.}, 146, 45--55, 2009.

\bibitem{GvdB}
B.~van den Berg and R.~Garner. Topological and Simplicial Models of Identity Types. \emph{ACM Transactions on Computational Logic}, 13:1, 2012.

\bibitem{CwF} 
P.~Dybjer. ``Internal Type Theory." \emph{LNCS} 1158, 120--134, 1996.

\bibitem{HS} Hofman and Streicher 

\bibitem{HoTTbook} 
\emph{Homotopy Type Theory: Univalent Foundations of Mathematics}, The Univalent Foundations Program, Institute for Advanced Study, 2013. {\tt http://homotopytypetheory.org/book}

\bibitem{KLV}  
C.~Kapulkin, P.~LeFanu Lumsdaine and V.~Voevodsky, The Simplicial Model of Univalent Foundations. \emph{In preparation}, 2013.

%
\end{thebibliography}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
